## Create project

rails new nombre

## Run server

rails s

## Generar controlador

rails generate controller home index


## Generic code 

layout/application.html.erb

## Routes root

root 'home#index'


## Use partial 

name convention `_new_cosa_.erb.html`
usarlo con `<%= render 'home/new_cosa' %>`


# Tables

## Create table

1. `rails g model table_name param:type param2:type2`
2. `rails g resource table_name param:type param2:type2`

- with the `resource` generator it add RESTful routes to work with our model

### migrate route 

db/migrate

## Create table in database

`rake db:migrate`

## Rails console

we can add data `activeRecords` to read create data from the console

`Questions.create email: 'a@gmail.com', body: 'How old is the universe?'

instance variable @querions= Questions.all

<% questions.each do |q|%>

<% q.email %>
<% q.body %>

show by desc values

```rb
@questions = Questions.order(created_at: :desc).all

```

### helpers

in the html

<% time_ago_in_words q.created_at %> ago


## To make the creation 

```rb

class QuestionsController < ApplicationController
def create
    Questions.create(question_params)

    redirect_to root_path
end

private
def question_params
    params.require(:question).permit(:email,:body)
end
end
```

## Rename variables to array format

name=questions[email]

## Question path

id= <% question_path(q)%>

```rb

def show
    @question = Questions.find(params[:id])

end

```

>`rake routes` list all routes we can use 

>after changes with the rails g resouse you can have to run rake db:migrate

## Send id in input
```html
<input type="hidden" name="answers[question_id]" value="<%= @question.id %>">

```

```rb
// AnswerController
def create
    Answer.create(answer_params)
    redirect_to some_path
end

private 

def answer_params
    params.require(:answer).permit(:question_id, :email,:body)
end

```

## Define relationships 

in models 

questions.rb

```rb

 has_many :answers

 ```

 answer.rb

 ```rb

 belongs_to :question